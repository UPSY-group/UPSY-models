&CONFIG

  ! General model instructions
  ! ==========================

    ! Output directory
    create_procedural_output_dir_config          = .FALSE.                          ! Automatically create an output directory with a procedural name (e.g. results_20210720_001/)
    fixed_output_dir_config                      = 'src/LADDIE/validation/integrated_tests/Antarctica/results'  ! If not, create a directory with this name instead (stops the program if this directory already exists)

    ! Debugging
    do_benchmarks_config                         = .FALSE.                          ! Whether or not to (only) perform the unit tests in the main_validation module
    do_unit_tests_config                         = .FALSE.                          ! Whether or not to (only) perform the unit tests in the main_validation module
    do_check_for_NaN_config                      = .FALSE.                          ! Whether or not fields should be checked for NaN values
    do_time_display_config                       = .TRUE.                           ! Print current model time to screen

  ! == Time of simulation
  ! =====================

    start_time_of_run_config                     = 0.0                              ! [yr] Start time of the simulation

    ! Antarctica
    lambda_M_ANT_config                          = 0.0                              ! [degrees east]  [default:   0.0]   Longitude of the pole of the stereographic projection for the Antarctica domain
    phi_M_ANT_config                             = -90.0                            ! [degrees north] [default: -90.0]   Latitude  of the pole of the stereographic projection for the Antarctica domain
    beta_stereo_ANT_config                       = 71.0                             ! [degrees]       [default:  71.0]   Standard parallel     of the stereographic projection for the Antarctica domain
    xmin_ANT_config                              = -3040000.0                         ! [m]             [default: -3040E3] Western  boundary     of the Antarctica domain [m]
    xmax_ANT_config                              =  3040000.0                         ! [m]             [default:  3040E3] Eastern  boundary     of the Antarctica domain [m]
    ymin_ANT_config                              = -3040000.0                         ! [m]             [default: -3040E3] Southern boundary     of the Antarctica domain [m]
    ymax_ANT_config                              =  3040000.0                         ! [m]             [default:  3040E3] Northern boundary     of the Antarctica domain [m]

  ! == Reference geometries (initial, present-day, and GIA equilibrium)
  ! ===================================================================

    ! Some pre-processing stuff for reference ice geometry
    refgeo_Hi_min_config                         = 2.0                              ! [m]             [default: 2.0]     Remove ice thinner than this value in the reference ice geometry. Particularly useful for BedMachine Greenland, which somehow covers the entire tundra with half a meter of ice...
    do_smooth_geometry_config                    = .FALSE.                          ! Whether or not to smooth the reference bedrock
    r_smooth_geometry_config                     = 0.5                              ! Geometry smoothing radius (in number of reference grid cells)
    remove_Lake_Vostok_config                    = .FALSE.                          ! Whether or not to replace subglacial Lake Vostok in Antarctica with ice (recommended to set to TRUE, otherwise it will really slow down your model for the first few hundred years...)

    ! == Present-day geometry
    ! =======================

    choice_refgeo_PD_ANT_config                  = 'read_from_file'                 ! Choice of present-day geometry for Antarctica   ; can be "idealised", or "read_from_file"
    ! Path to file containing present-day geometry when choice_refgeo_PD == 'read_from_file'
    filename_refgeo_PD_ANT_config                = 'external/data/topography/Antarctica/BedMachineAntarctica_v3_8km.nc'
    ! Timeframe to read from the geometry file (set to 1E9    if the file has no time dimension)
    timeframe_refgeo_PD_ANT_config               = 1E9

  ! == Mesh generation
  ! ==================

    ! How to set up the initial mesh
    choice_initial_mesh_ANT_config               = 'calc_from_initial_geometry'     ! Options: 'calc_from_initial_geometry', 'read_from_file'

    ! Paths to files containing initial meshes, if choice_initial_mesh == 'read_from_file'
    filename_initial_mesh_ANT_config             = ''

    ! Resolutions for different parts of the ice sheet
    maximum_resolution_uniform_config            = 200e3                             ! [m]          Maximum resolution for the entire domain
    maximum_resolution_grounded_ice_config       = 200e3                              ! [m]          Maximum resolution for grounded ice
    maximum_resolution_floating_ice_config       = 12e3                              ! [m]          Maximum resolution for floating ice
    maximum_resolution_grounding_line_config     = 200e3                              ! [m]          Maximum resolution for the grounding line
    maximum_resolution_calving_front_config      = 200e3                              ! [m]          Maximum resolution for the calving front
    maximum_resolution_ice_front_config          = 200e3                             ! [m]          Maximum resolution for the ice front
    maximum_resolution_coastline_config          = 200e3                           ! [m]          Maximum resolution for the coastline
    
    ! Widths for each resolution band
    grounding_line_width_config                  = 2.5e3                            ! [m]          Width of the band around the grounding line that should get this resolution
    calving_front_width_config                   = 2.5e3                            ! [m]          Width of the band around the calving front that should get this resolution
    ice_front_width_config                       = 10e3                             ! [m]          Width of the band around the ice front that should get this resolution
    coastline_width_config                       = 100e3                           ! [m]          Width of the band around the coastline that should get this resolution

    ! Regions of interest
    choice_regions_of_interest_config            = ''                               ! Regions of interest where other (higher) resolutions apply. Separated by double vertical bars "||", e.g. "PineIsland||Thwaites"
    ROI_maximum_resolution_uniform_config        = 200e3                            ! [m]          Maximum resolution for the entire domain
    ROI_maximum_resolution_grounded_ice_config   = 200e3                             ! [m]          Maximum resolution for grounded ice
    ROI_maximum_resolution_floating_ice_config   = 2e3                             ! [m]          Maximum resolution for floating ice
    ROI_maximum_resolution_grounding_line_config = 200e3                              ! [m]          Maximum resolution for the grounding line
    ROI_maximum_resolution_calving_front_config  = 200e3                             ! [m]          Maximum resolution for the calving front
    ROI_maximum_resolution_ice_front_config      = 200e3                             ! [m]          Maximum resolution for the ice front
    ROI_maximum_resolution_coastline_config      = 200e3                             ! [m]          Maximum resolution for the coastline
    
    ! Widths for each resolution band
    ROI_grounding_line_width_config              = 2e3                              ! [m]          Width of the band around the grounding line that should get this resolution
    ROI_calving_front_width_config               = 2e3                             ! [m]          Width of the band around the calving front that should get this resolution
    ROI_ice_front_width_config                   = 20e3                             ! [m]          Width of the band around the ice front that should get this resolution
    ROI_coastline_width_config                   = 50e3                             ! [m]          Width of the band around the coastline that should get this resolution

    ! Advanced geometry parameters
    do_singlecore_mesh_creation_config           = .TRUE.                           !              Whether or not to use only a single core for mesh generation (for better reproducibility)
    alpha_min_config                             = 0.4363                           ! [radians]    Smallest allowed internal triangle angle (recommended value: 25 degrees = 0.4363)
    nit_Lloyds_algorithm_config                  = 3                                ! [-]          Number of iterations of Lloyds algorithm to be applied after refinement
    mesh_resolution_tolerance_config             = 1.15                             ! [-]          Factors the target resolution for trangle-size requirement. 1=strict, use >1 to avoid unnecesarily high resolution

    ! Square grid used for smoothing
    dx_square_grid_smooth_ANT_config             = 100.0

  ! == Ocean
  ! ========

    ! Time step
    do_asynchronous_ocean_config                 = .FALSE.                           ! Whether or not the ocean should be calculated asynchronously from the rest of the model; if so, use dt_climate; if not, calculate it in every time step

    ! Vertical grid
    ocean_vertical_grid_max_depth_config         = 1800.0                           ! Maximum depth of the ocean submodel
    ocean_vertical_grid_dz_config                = 120.0                           ! Vertical distance between ocean layers

    ! Choice of ocean model
    choice_ocean_model_ANT_config                = 'realistic'

    ! Choice of realistic ocean model
    choice_ocean_model_realistic_config          = 'snapshot'

    filename_ocean_snapshot_ANT_config           = 'external/data/ocean/ismip6_clim_16kmx120m.nc'

  ! == LADDIE model
  ! ===============

    ! Parallellisation
    do_repartition_laddie_config                 = .FALSE.                          ! Whether or not to repartition laddie to its own mesh

    ! Output
    do_write_laddie_output_fields_config         = .TRUE.                          ! Whether or not to write output fields on laddie time
    do_write_laddie_output_scalar_config         = .TRUE.                          ! Whether or not to write output scalars on laddie time
    time_interval_scalar_output_config           = 1.0                             ! [days] Time interval at which to write out buffered scalars

    ! Time step
    dt_laddie_config                             = 720.0                            ! [s] Time step for integration of laddie model
    time_duration_laddie_config                  = 180.0                              ! [days] Duration of each run cycle

    ! Integration
    choice_laddie_integration_scheme_config      = 'fbrk3'                           ! Options: 'euler', 'fbrk3', 'lfra'
    laddie_fbrk3_beta1_config                    = 0.500                            ! FBRK3 beta1 value
    laddie_fbrk3_beta2_config                    = 0.500                            ! FBRK3 beta1 value
    laddie_fbrk3_beta3_config                    = 0.344                            ! FBRK3 beta1 value
    laddie_lfra_nu_config                        = 0.5                              ! time filter in LFRA scheme [0-1]

    ! Momentum advection
    choice_laddie_momentum_advection_config      = 'fesom'                          ! Options: 'none', 'fesom', 'upstream'
 
    ! Initialisation
    laddie_initial_thickness_config              = 4.0                             ! [m] Initial value of thickness H
    laddie_initial_T_offset_config               = 0.0                              ! [degC] Initial offset of T relative to ambient
    laddie_initial_S_offset_config               = -0.1                             ! [PSU] Initial offset of S relative to ambient. Must be negative for stable buoyancy!
 
    ! Equation of state 
    choice_laddie_equation_of_state_config       = 'linear'                         ! Choose equation of state. Options: 'linear'
    uniform_laddie_eos_linear_alpha_config       = 3.733E-5                         ! [K ^-1] 'linear' eos: thermal expansion coefficient
    uniform_laddie_eos_linear_beta_config        = 7.843E-4                         ! [PSU ^-1] 'linear' eos: haline contraction coefficient
  
    ! Coriolis
    choice_laddie_coriolis_config                = 'realistic'                        ! Choose option Coriolis parameter. Options: 'uniform'
    uniform_laddie_coriolis_parameter_config     = -1.37E-4                         ! [s ^-1] 
  
    ! Turbulent heat exchange
    choice_laddie_gamma_config                   = 'Jenkins1991'                        ! Choose option turbulent heat exchange. Options: 'uniform', 'Jenkins1991'
    uniform_laddie_gamma_T_config                = 1.8E-4                           ! [] 'uniform': gamma_T parameter. gamma_S = gamma_T/35

    ! Drag coefficients 
    laddie_drag_coefficient_top_config           = 1.0E-3                           ! [] Drag coefficient Cd
    laddie_drag_coefficient_mom_config           = 2.5E-3                           ! [] Drag coefficient Cd_mom in momentum term
 
    ! Viscosity and diffusivity
    laddie_viscosity_config                      = 0.1                            ! [m^2 s^-1] Viscosity parameter Ah
    laddie_diffusivity_config                    = 2.0                            ! [m^2 s^-1] Diffusivity parameter Kh
  
    ! Entrainment
    choice_laddie_entrainment_config             = 'Gaspar1988'                     ! Choose option entrainment parameterisation. Options: 'Holland2006', 'Gaspar1988'
    laddie_Holland2006_cl_config                 = 1.775E-2                         ! [] Scaling parameter c_l in Holland2006 entrainment
    laddie_Gaspar1988_mu_config                  = 2.5                              ! [] Scaling parameter mu in Gaspar1988 entrainment

    ! Stability
    laddie_thickness_minimum_config              = 1.0                             ! [m] Minimum layer thickness allowed
    laddie_thickness_maximum_config              = 10000.0                           ! [m] Maximum layer thickness allowed
    laddie_velocity_maximum_config               = 1.0                            ! [m s^-1] Maximum velocity allowed
    laddie_buoyancy_minimum_config               = 2.0E-2                           ! [kg m^-3] Minimum density difference allowed

    ! Tides
    choice_laddie_tides_config                   = 'uniform'                        ! Choose option for tidal velocity. Options: 'uniform'
    uniform_laddie_tidal_velocity_config         = 0.01                              ! [m s^-1] Uniform tidal velocity

    ! Subglacial discharge (SGD)
    choice_laddie_SGD_config                     = 'none'                      ! Choose option for subglacial discharge. Options: 'none', 'idealised', 'read_from_file'

  ! == Output
  ! =========

    ! Basic settings
    do_create_netcdf_output_config               = .TRUE.                           !     Whether or not NetCDF output files should be created at all
    dt_output_config                             = 10.0                            !     Time step for writing output
    dt_output_restart_config                     = 30000.0                          !     Time step for writing restart output
    dt_output_grid_config                        = 10.0                           !     Time step for writing gridded output
    dx_output_grid_ANT_config                    = 8e3                              ! [m] Horizontal resolution for the square grid used for output for Antarctica
    dx_output_grid_ROI_ANT_config                = 2E3                              ! [m] Horizontal resolution for the square grid used for output for the region of interest for Antarctica

    ! Which data fields we want to write to the main NetCDF output files
    choice_output_field_01_config                = 'Hi'
    choice_output_field_02_config                = 'Hib'
    choice_output_field_03_config                = 'grounding_line'
    choice_output_field_04_config                = 'mask'
    choice_output_field_05_config                = 'entr'
    choice_output_field_06_config                = 'entr_dmin'
    choice_output_field_07_config                = 'T_base'
    choice_output_field_08_config                = 'T_amb'
    choice_output_field_09_config                = 'u_star'
    choice_output_field_10_config                = 'Hs'
    choice_output_field_11_config                = 'Hs_b'
    choice_output_field_12_config                = 'dHs_dx'
    choice_output_field_13_config                = 'dHs_dy'
    choice_output_field_14_config                = 'none'
    choice_output_field_15_config                = 'none'
    choice_output_field_16_config                = 'none'
    choice_output_field_17_config                = 'none'
    choice_output_field_18_config                = 'none'
    choice_output_field_19_config                = 'none'
    choice_output_field_20_config                = 'none'
    choice_output_field_21_config                = 'none'
    choice_output_field_22_config                = 'none'
    choice_output_field_23_config                = 'none'
    choice_output_field_24_config                = 'none'
    choice_output_field_25_config                = 'none'
    choice_output_field_26_config                = 'none'
    choice_output_field_27_config                = 'none'
    choice_output_field_28_config                = 'none'
    choice_output_field_29_config                = 'none'
    choice_output_field_30_config                = 'none'
    choice_output_field_31_config                = 'none'
    choice_output_field_32_config                = 'none'
    choice_output_field_33_config                = 'none'
    choice_output_field_34_config                = 'none'
    choice_output_field_35_config                = 'none'
    choice_output_field_36_config                = 'none'
    choice_output_field_37_config                = 'none'
    choice_output_field_38_config                = 'none'
    choice_output_field_39_config                = 'none'
    choice_output_field_40_config                = 'none'
    choice_output_field_41_config                = 'none'
    choice_output_field_42_config                = 'none'
    choice_output_field_43_config                = 'none'
    choice_output_field_44_config                = 'none'
    choice_output_field_45_config                = 'none'
    choice_output_field_46_config                = 'none'
    choice_output_field_47_config                = 'none'
    choice_output_field_48_config                = 'none'
    choice_output_field_49_config                = 'none'
    choice_output_field_50_config                = 'none'

/
